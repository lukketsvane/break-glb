{"version":3,"sources":["../utils.ts"],"names":["easingFunctions","t","generateUniqueId","clamp","value","min","max","lerp","start","end","validateProps","props","warnings","hexToRgb","hex","result","rgbToHex","r","g","b","x","validateGLBFile","file","validExtensions","fileName","ext","maxSize","PerformanceMonitor","currentTime","delta","storage","key","error","defaultValue","item"],"mappings":"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","file":"utils.mjs","sourcesContent":["import type { AnimationConfig } from \"./types\"\r\n\r\n// ============================================================================\r\n// Easing Functions\r\n// ============================================================================\r\n\r\nexport const easingFunctions = {\r\n  linear: (t: number) => t,\r\n\r\n  easeIn: (t: number) => t * t * t,\r\n\r\n  easeOut: (t: number) => 1 - Math.pow(1 - t, 3),\r\n\r\n  easeInOut: (t: number) => (t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2),\r\n\r\n  bounce: (t: number) => {\r\n    const n1 = 7.5625\r\n    const d1 = 2.75\r\n\r\n    if (t < 1 / d1) {\r\n      return n1 * t * t\r\n    } else if (t < 2 / d1) {\r\n      return n1 * (t -= 1.5 / d1) * t + 0.75\r\n    } else if (t < 2.5 / d1) {\r\n      return n1 * (t -= 2.25 / d1) * t + 0.9375\r\n    } else {\r\n      return n1 * (t -= 2.625 / d1) * t + 0.984375\r\n    }\r\n  },\r\n}\r\n\r\n// ============================================================================\r\n// Helper Functions\r\n// ============================================================================\r\n\r\nexport function generateUniqueId(): string {\r\n  return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`\r\n}\r\n\r\nexport function clamp(value: number, min: number, max: number): number {\r\n  return Math.min(Math.max(value, min), max)\r\n}\r\n\r\nexport function lerp(start: number, end: number, t: number): number {\r\n  return start + (end - start) * t\r\n}\r\n\r\nexport function validateProps(props: any): { valid: boolean; warnings: string[] } {\r\n  const warnings: string[] = []\r\n\r\n  if (props.explosionDistance !== undefined && props.explosionDistance < 0) {\r\n    warnings.push(\"explosionDistance should be positive\")\r\n  }\r\n\r\n  if (props.explosionSpeed !== undefined && props.explosionSpeed < 100) {\r\n    warnings.push(\"explosionSpeed should be at least 100ms for smooth animations\")\r\n  }\r\n\r\n  if (props.minDistance !== undefined && props.maxDistance !== undefined) {\r\n    if (props.minDistance >= props.maxDistance) {\r\n      warnings.push(\"minDistance should be less than maxDistance\")\r\n    }\r\n  }\r\n\r\n  if (props.ambientLightIntensity !== undefined && props.ambientLightIntensity < 0) {\r\n    warnings.push(\"ambientLightIntensity should be non-negative\")\r\n  }\r\n\r\n  if (props.directionalLightIntensity !== undefined && props.directionalLightIntensity < 0) {\r\n    warnings.push(\"directionalLightIntensity should be non-negative\")\r\n  }\r\n\r\n  return {\r\n    valid: warnings.length === 0,\r\n    warnings,\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Color Utilities\r\n// ============================================================================\r\n\r\nexport function hexToRgb(hex: string): { r: number; g: number; b: number } | null {\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\r\n  return result\r\n    ? {\r\n        r: parseInt(result[1], 16) / 255,\r\n        g: parseInt(result[2], 16) / 255,\r\n        b: parseInt(result[3], 16) / 255,\r\n      }\r\n    : null\r\n}\r\n\r\nexport function rgbToHex(r: number, g: number, b: number): string {\r\n  return (\r\n    \"#\" +\r\n    [r, g, b]\r\n      .map((x) => {\r\n        const hex = Math.round(x * 255).toString(16)\r\n        return hex.length === 1 ? \"0\" + hex : hex\r\n      })\r\n      .join(\"\")\r\n  )\r\n}\r\n\r\n// ============================================================================\r\n// File Validation\r\n// ============================================================================\r\n\r\nexport function validateGLBFile(file: File): { valid: boolean; error?: string } {\r\n  if (!file) {\r\n    return { valid: false, error: \"No file provided\" }\r\n  }\r\n\r\n  const validExtensions = [\".glb\"]\r\n  const fileName = file.name.toLowerCase()\r\n  const isValidExtension = validExtensions.some((ext) => fileName.endsWith(ext))\r\n\r\n  if (!isValidExtension) {\r\n    return { valid: false, error: \"Invalid file format. Please upload a .glb file\" }\r\n  }\r\n\r\n  // Check file size (limit to 100MB)\r\n  const maxSize = 100 * 1024 * 1024\r\n  if (file.size > maxSize) {\r\n    return { valid: false, error: \"File too large. Maximum size is 100MB\" }\r\n  }\r\n\r\n  return { valid: true }\r\n}\r\n\r\n// ============================================================================\r\n// Performance Monitoring\r\n// ============================================================================\r\n\r\nexport class PerformanceMonitor {\r\n  private frameCount = 0\r\n  private lastTime = performance.now()\r\n  private fps = 60\r\n\r\n  update(): number {\r\n    this.frameCount++\r\n    const currentTime = performance.now()\r\n    const delta = currentTime - this.lastTime\r\n\r\n    if (delta >= 1000) {\r\n      this.fps = Math.round((this.frameCount * 1000) / delta)\r\n      this.frameCount = 0\r\n      this.lastTime = currentTime\r\n    }\r\n\r\n    return this.fps\r\n  }\r\n\r\n  getFPS(): number {\r\n    return this.fps\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Local Storage Helpers\r\n// ============================================================================\r\n\r\nexport const storage = {\r\n  save(key: string, value: any): void {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value))\r\n    } catch (error) {\r\n      console.warn(\"Failed to save to localStorage:\", error)\r\n    }\r\n  },\r\n\r\n  load<T>(key: string, defaultValue: T): T {\r\n    try {\r\n      const item = localStorage.getItem(key)\r\n      return item ? JSON.parse(item) : defaultValue\r\n    } catch (error) {\r\n      console.warn(\"Failed to load from localStorage:\", error)\r\n      return defaultValue\r\n    }\r\n  },\r\n\r\n  remove(key: string): void {\r\n    try {\r\n      localStorage.removeItem(key)\r\n    } catch (error) {\r\n      console.warn(\"Failed to remove from localStorage:\", error)\r\n    }\r\n  },\r\n}\r\n"]}