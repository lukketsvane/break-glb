import {useState,useCallback,useRef,useEffect}from'react';function C(){let[e,r]=useState(false),[s,n]=useState(null),[l,t]=useState(false),[i,m]=useState(null),[x,v]=useState([]),a=useCallback(()=>{r(true);},[]),f=useCallback(()=>{r(false);},[]),u=useCallback(()=>{r(c=>!c);},[]),g=useCallback(c=>{n(c);},[]),p=useCallback(()=>{m(null);},[]);return {isExploded:e,selectedPart:s,isLoading:l,error:i,parts:x,explode:a,assemble:f,toggleExplode:u,selectPart:g,setIsLoading:t,setError:m,setParts:v,clearError:p}}function L(){let e=useRef(null),r={explode:useCallback(()=>e.current?.explode(),[]),assemble:useCallback(()=>e.current?.assemble(),[]),toggle:useCallback(()=>e.current?.toggleExplode(),[]),selectPart:useCallback(s=>e.current?.selectPart(s),[]),resetCamera:useCallback(()=>e.current?.resetCamera(),[])};return [e,r]}function S(e,r){useEffect(()=>{let s=n=>{let l=n.key.toLowerCase();e.explode&&l===e.explode.toLowerCase()?(n.preventDefault(),r.onExplode?.()):e.assemble&&l===e.assemble.toLowerCase()?(n.preventDefault(),r.onAssemble?.()):e.toggle&&l===e.toggle.toLowerCase()?(n.preventDefault(),r.onToggle?.()):e.resetCamera&&l===e.resetCamera.toLowerCase()&&(n.preventDefault(),r.onResetCamera?.());};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,r]);}function D(e,r){let[s,n]=useState(false),[l,t]=useState(null),i=useCallback(a=>{t(null);let f=r?.maxSize||100*1024*1024;if(a.size>f){t(`File too large. Maximum size is ${f/1024/1024}MB`);return}let u=r?.allowedExtensions||[".glb"],g=a.name.toLowerCase();if(!u.some(c=>g.endsWith(c))){t(`Invalid file format. Allowed: ${u.join(", ")}`);return}e(a);},[e,r]),m=useCallback(a=>{a.preventDefault(),n(true);},[]),x=useCallback(a=>{a.preventDefault(),n(false);},[]),v=useCallback(a=>{a.preventDefault(),n(false);let f=Array.from(a.dataTransfer.files),u=r?.allowedExtensions||[".glb"],g=f.find(p=>u.some(c=>p.name.toLowerCase().endsWith(c)));g?i(g):t(`No valid file found. Allowed: ${u.join(", ")}`);},[i,r]);return {isDragging:s,error:l,handleFileSelect:i,handleDragOver:m,handleDragLeave:x,handleDrop:v,clearError:()=>t(null)}}function R(e,r=[]){let s=useRef(void 0),n=useRef(void 0),l=useCallback(t=>{if(n.current!==void 0){let i=t-n.current;e(i);}n.current=t,s.current=requestAnimationFrame(l);},[e]);useEffect(()=>(s.current=requestAnimationFrame(l),()=>{s.current&&cancelAnimationFrame(s.current);}),[l]);}function y(e,r){let[s,n]=useState(()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):r}catch(t){return console.warn(`Error loading ${e} from localStorage:`,t),r}}),l=useCallback(t=>{try{n(t),window.localStorage.setItem(e,JSON.stringify(t));}catch(i){console.warn(`Error saving ${e} to localStorage:`,i);}},[e]);return [s,l]}export{R as useAnimationFrame,C as useBreakGLB,D as useFileUpload,S as useKeyboardShortcuts,y as useLocalStorage,L as useModelControls};//# sourceMappingURL=hooks.mjs.map
//# sourceMappingURL=hooks.mjs.map