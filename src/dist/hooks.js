'use strict';var react=require('react');function C(){let[e,r]=react.useState(false),[s,n]=react.useState(null),[l,t]=react.useState(false),[i,m]=react.useState(null),[x,v]=react.useState([]),a=react.useCallback(()=>{r(true);},[]),f=react.useCallback(()=>{r(false);},[]),u=react.useCallback(()=>{r(c=>!c);},[]),g=react.useCallback(c=>{n(c);},[]),p=react.useCallback(()=>{m(null);},[]);return {isExploded:e,selectedPart:s,isLoading:l,error:i,parts:x,explode:a,assemble:f,toggleExplode:u,selectPart:g,setIsLoading:t,setError:m,setParts:v,clearError:p}}function L(){let e=react.useRef(null),r={explode:react.useCallback(()=>e.current?.explode(),[]),assemble:react.useCallback(()=>e.current?.assemble(),[]),toggle:react.useCallback(()=>e.current?.toggleExplode(),[]),selectPart:react.useCallback(s=>e.current?.selectPart(s),[]),resetCamera:react.useCallback(()=>e.current?.resetCamera(),[])};return [e,r]}function S(e,r){react.useEffect(()=>{let s=n=>{let l=n.key.toLowerCase();e.explode&&l===e.explode.toLowerCase()?(n.preventDefault(),r.onExplode?.()):e.assemble&&l===e.assemble.toLowerCase()?(n.preventDefault(),r.onAssemble?.()):e.toggle&&l===e.toggle.toLowerCase()?(n.preventDefault(),r.onToggle?.()):e.resetCamera&&l===e.resetCamera.toLowerCase()&&(n.preventDefault(),r.onResetCamera?.());};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,r]);}function D(e,r){let[s,n]=react.useState(false),[l,t]=react.useState(null),i=react.useCallback(a=>{t(null);let f=r?.maxSize||100*1024*1024;if(a.size>f){t(`File too large. Maximum size is ${f/1024/1024}MB`);return}let u=r?.allowedExtensions||[".glb"],g=a.name.toLowerCase();if(!u.some(c=>g.endsWith(c))){t(`Invalid file format. Allowed: ${u.join(", ")}`);return}e(a);},[e,r]),m=react.useCallback(a=>{a.preventDefault(),n(true);},[]),x=react.useCallback(a=>{a.preventDefault(),n(false);},[]),v=react.useCallback(a=>{a.preventDefault(),n(false);let f=Array.from(a.dataTransfer.files),u=r?.allowedExtensions||[".glb"],g=f.find(p=>u.some(c=>p.name.toLowerCase().endsWith(c)));g?i(g):t(`No valid file found. Allowed: ${u.join(", ")}`);},[i,r]);return {isDragging:s,error:l,handleFileSelect:i,handleDragOver:m,handleDragLeave:x,handleDrop:v,clearError:()=>t(null)}}function R(e,r=[]){let s=react.useRef(void 0),n=react.useRef(void 0),l=react.useCallback(t=>{if(n.current!==void 0){let i=t-n.current;e(i);}n.current=t,s.current=requestAnimationFrame(l);},[e]);react.useEffect(()=>(s.current=requestAnimationFrame(l),()=>{s.current&&cancelAnimationFrame(s.current);}),[l]);}function y(e,r){let[s,n]=react.useState(()=>{try{let t=window.localStorage.getItem(e);return t?JSON.parse(t):r}catch(t){return console.warn(`Error loading ${e} from localStorage:`,t),r}}),l=react.useCallback(t=>{try{n(t),window.localStorage.setItem(e,JSON.stringify(t));}catch(i){console.warn(`Error saving ${e} to localStorage:`,i);}},[e]);return [s,l]}exports.useAnimationFrame=R;exports.useBreakGLB=C;exports.useFileUpload=D;exports.useKeyboardShortcuts=S;exports.useLocalStorage=y;exports.useModelControls=L;//# sourceMappingURL=hooks.js.map
//# sourceMappingURL=hooks.js.map